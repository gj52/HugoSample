{{ $tccs := resources.Get "css/tachyons.css" }}
{{ $mccsl := resources.Get "css/light.css" }}
{{ $mccsd := resources.Get "css/dark.css" }}
{{ $mccs := resources.Get "css/main.css" }}
{{ $accs := resources.Get "css/awesome.css" }}
{{ $pccs := resources.Get "css/print.css" }}

{{if hugo.IsProduction }}
    {{ $tccs  = $tccs  | minify | resources.Fingerprint site.Params.digest }}
    {{ $mccsl = $mccsl | minify | resources.Fingerprint site.Params.digest }} 
    {{ $mccsd = $mccsd | minify | resources.Fingerprint site.Params.digest }}
    {{ $mccs  = $mccs  | minify | resources.Fingerprint site.Params.digest }}
    {{ $accs  = $accs  | minify | resources.Fingerprint site.Params.digest }}
    {{ $pccs  = $pccs  | minify | resources.Fingerprint site.Params.digest }}
{{end}}

<link rel=preload href={{ $tccs.RelPermalink  }} as=style integrity={{ $tccs.Data.Integrity  }}>
<link rel=preload href={{ $mccsl.RelPermalink }} as=style integrity={{ $mccsl.Data.Integrity }}>
<link rel=preload href={{ $mccsd.RelPermalink }} as=style integrity={{ $mccsd.Data.Integrity }}>
<link rel=preload href={{ $mccs.RelPermalink  }} as=style integrity={{ $mccs.Data.Integrity  }}>
<link rel=preload href={{ $accs.RelPermalink  }} as=style integrity={{ $accs.Data.Integrity  }}>
<link rel=preload href={{ $pccs.RelPermalink  }} as=style integrity={{ $pccs.Data.Integrity  }}>

<link async rel=stylesheet href={{ $tccs.RelPermalink  }} integrity={{ $tccs.Data.Integrity }} />
<link rel=stylesheet href={{ $mccsl.RelPermalink }} integrity={{ $mccsl.Data.Integrity }} media="(prefers-color-scheme: light)"/>
<link rel=stylesheet href={{ $mccsd.RelPermalink }} integrity={{ $mccsd.Data.Integrity }} media="(prefers-color-scheme: dark)"/>
<link async rel=stylesheet href={{ $mccs.RelPermalink  }} integrity={{ $mccs.Data.Integrity }} />
<link async rel=stylesheet href={{ $accs.RelPermalink  }} integrity={{ $accs.Data.Integrity }} />
<link async rel=stylesheet href={{ $pccs.RelPermalink  }} integrity={{ $pccs.Data.Integrity }} media=print />
